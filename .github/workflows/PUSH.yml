- name: ðŸ“¤ Upload sample-report.txt using curl
  run: |
    FILE_PATH="sample-report.txt"
    REPO="effortlessdevsec/Android_Hackerone"
    BRANCH="main"
    COMMIT_MSG="Add sample-report.txt via API"
    TOKEN=${{ secrets.GH_PAT }}

    # Get file content in base64
    ENCODED_CONTENT=$(base64 -w 0 $FILE_PATH)

    # Create or update the file using GitHub API
    curl -X PUT \
      -H "Authorization: token $TOKEN" \
      -H "Content-Type: application/json" \
      -d @- \
      https://api.github.com/repos/$REPO/contents/$FILE_PATH <<EOF
{
  "message": "$COMMIT_MSG",
  "branch": "$BRANCH",
  "content": "$ENCODED_CONTENT"
}
EOF
